@model library_prototype.Models.MultipleModel.BorrowReturnDashBoardVM
    @{ 
        
    }
<div id="subjectColumnChart" style="height:300px;width:600px">
    
</div>
<script>
    var chart = AmCharts.makeChart("subjectColumnChart", {
        "type": "serial",
        "theme": "light",
        "dataProvider": [{
            "date": "@Html.Raw(DateTime.UtcNow.AddHours(8).AddDays(-6).ToShortDateString())",
            "reservations": "@Html.Raw(Model.Reservations.Where(r=>r.CreatedAt >= DateTime.UtcNow.AddDays(-7) && r.CreatedAt <= DateTime.UtcNow.AddDays(-6)).Count())"
        }, {
            "date": "@Html.Raw(DateTime.UtcNow.AddHours(8).AddDays(-5).ToShortDateString())",
            "reservations": "@Html.Raw(Model.Reservations.Where(r => r.CreatedAt >= DateTime.UtcNow.AddDays(-6) && r.CreatedAt <= DateTime.UtcNow.AddDays(-5)).Count())"
        }, {
            "date": "@Html.Raw(DateTime.UtcNow.AddHours(8).AddDays(-4).ToShortDateString())",
            "reservations": "@Html.Raw(Model.Reservations.Where(r => r.CreatedAt >= DateTime.UtcNow.AddDays(-5) && r.CreatedAt <= DateTime.UtcNow.AddDays(-4)).Count())"
        }, {
            "date": "@Html.Raw(DateTime.UtcNow.AddHours(8).AddDays(-3).ToShortDateString())",
            "reservations": "@Html.Raw(Model.Reservations.Where(r => r.CreatedAt >= DateTime.UtcNow.AddDays(-4) && r.CreatedAt <= DateTime.UtcNow.AddDays(-3)).Count())"
        }, {
            "date": "@Html.Raw(DateTime.UtcNow.AddHours(8).AddDays(-2).ToShortDateString())",
            "reservations": "@Html.Raw(Model.Reservations.Where(r => r.CreatedAt >= DateTime.UtcNow.AddDays(-3) && r.CreatedAt <= DateTime.UtcNow.AddDays(-2)).Count())"
        }, {
            "date": "@Html.Raw(DateTime.UtcNow.AddHours(8).AddDays(-1).ToShortDateString())",
            "reservations": "@Html.Raw(Model.Reservations.Where(r => r.CreatedAt >= DateTime.UtcNow.AddDays(-2) && r.CreatedAt <= DateTime.UtcNow.AddDays(-1)).Count())"
        }, {
            "date": "@Html.Raw(DateTime.UtcNow.AddHours(8).ToShortDateString())",
            "reservations": "@Html.Raw(Model.Reservations.Where(r => r.CreatedAt >= DateTime.UtcNow.AddDays(-1) && r.CreatedAt <= DateTime.UtcNow.AddDays(0)).Count())"
        }],
        "valueAxes": [{
            "gridColor": "#FFFFFF",
            "gridAlpha": 0.2,
            "dashLength": 0
        }],
        "gridAboveGraphs": true,
        "startDuration": 1,
        "graphs": [{
            "balloonText": "[[category]]: <b>[[value]]</b>",
            "fillAlphas": 0.8,
            "lineAlpha": 0.2,
            "type": "column",
            "valueField": "reservations"
        }],
        "chartCursor": {
            "categoryBalloonEnabled": false,
            "cursorAlpha": 0,
            "zoomable": false
        },
        "categoryField": "date",
        "categoryAxis": {
            "gridPosition": "start",
            "gridAlpha": 0,
            "tickPosition": "start",
            "tickLength": 20
        },
        "export": {
            "enabled": true
        }

    });
</script>
